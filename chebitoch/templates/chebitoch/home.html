{% extends 'chebitoch/base.html' %}

{% block content %}
<!-- Hero Section -->
<div class="relative bg-gradient-to-br from-purple-600 via-indigo-600 to-purple-800 overflow-hidden">
    <div class="absolute inset-0 opacity-20">
        <div class="absolute top-0 -left-4 w-96 h-96 bg-purple-300 rounded-full mix-blend-multiply filter blur-3xl animate-blob"></div>
        <div class="absolute top-0 -right-4 w-96 h-96 bg-indigo-300 rounded-full mix-blend-multiply filter blur-3xl animate-blob animation-delay-2000"></div>
        <div class="absolute -bottom-8 left-20 w-96 h-96 bg-pink-300 rounded-full mix-blend-multiply filter blur-3xl animate-blob animation-delay-4000"></div>
    </div>

    <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24 md:py-32">
        <div class="text-center">
            <h1 class="text-5xl md:text-7xl font-extrabold text-white mb-6 tracking-tight">
                Welcome to My <span class="text-transparent bg-clip-text bg-gradient-to-r from-yellow-200 to-pink-300">Digital Space</span>
            </h1>
            <p class="text-xl md:text-2xl text-purple-100 max-w-3xl mx-auto mb-8 leading-relaxed">
                Exploring ideas, sharing stories, and documenting the journey. Join me as I write about technology, life, and everything in between.
            </p>
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <a href="#posts" class="inline-flex items-center px-8 py-4 bg-white text-purple-600 font-semibold rounded-full hover:bg-purple-50 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1">
                    Explore Posts
                    <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                    </svg>
                </a>
            </div>
        </div>
    </div>

    <div class="absolute bottom-0 left-0 right-0">
        <svg viewBox="0 0 1440 120" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M0 120L60 105C120 90 240 60 360 45C480 30 600 30 720 37.5C840 45 960 60 1080 67.5C1200 75 1320 75 1380 75L1440 75V120H1380C1320 120 1200 120 1080 120C960 120 840 120 720 120C600 120 480 120 360 120C240 120 120 120 60 120H0Z" fill="#faf5ff"/>
        </svg>
    </div>
</div>

<!-- Featured Posts Section -->
<div id="posts" class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
    {% if page_obj %}
    <div class="text-center mb-12">
        <h2 class="text-4xl md:text-5xl font-bold gradient-text mb-4">Latest Posts</h2>
        <p class="text-gray-600 text-lg">Discover my most recent thoughts and stories</p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        {% for post in page_obj %}
        <article class="card-hover bg-white rounded-2xl shadow-lg overflow-hidden border border-purple-100">
            <div class="h-56 bg-gradient-to-br from-purple-400 via-pink-400 to-indigo-400 relative overflow-hidden group">
                {% if post.featured_image %}
                <img src="{{ post.featured_image }}" alt="{{ post.title }}" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500">
                {% else %}
                <div class="absolute inset-0 flex items-center justify-center">
                    <svg class="w-20 h-20 text-white/30" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"></path>
                    </svg>
                </div>
                {% endif %}

                {% if post.category %}
                <div class="absolute top-4 left-4">
                    <span class="px-4 py-1.5 bg-white/90 backdrop-blur-sm text-purple-600 rounded-full text-sm font-semibold">
                        {{ post.category.name }}
                    </span>
                </div>
                {% endif %}
            </div>

            <div class="p-6">
                <div class="flex items-center text-sm text-gray-500 mb-3">
                    <svg class="w-4 h-4 mr-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                    </svg>
                    {{ post.created_at|date:"F d, Y" }}
                    <span class="mx-2">â€¢</span>
                    <svg class="w-4 h-4 mr-1.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                    </svg>
                    {{ post.author.username }}
                </div>

                <h3 class="text-2xl font-bold text-gray-900 mb-3 line-clamp-2 hover:text-purple-600 transition-colors">
                    <a href="{{ post.get_absolute_url }}">{{ post.title }}</a>
                </h3>

                <p class="text-gray-600 mb-4 line-clamp-3">
                    {{ post.excerpt|default:post.content|truncatewords:20 }}
                </p>

                <a href="{{ post.get_absolute_url }}" class="inline-flex items-center text-purple-600 font-semibold hover:text-purple-700 transition-colors group">
                    Read More
                    <svg class="w-5 h-5 ml-1 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
                    </svg>
                </a>
            </div>
        </article>
        {% endfor %}
    </div>

    <!-- Pagination -->
    {% if page_obj.has_other_pages %}
    <div class="flex justify-center items-center space-x-2 mt-12">
        {% if page_obj.has_previous %}
        <a href="?page={{ page_obj.previous_page_number }}" class="px-4 py-2 bg-white border-2 border-purple-200 text-purple-600 rounded-lg hover:bg-purple-50 transition-colors font-medium">
            Previous
        </a>
        {% endif %}

        <div class="flex space-x-2">
            {% for num in page_obj.paginator.page_range %}
                {% if page_obj.number == num %}
                <span class="px-4 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-lg font-medium">{{ num }}</span>
                {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
                <a href="?page={{ num }}" class="px-4 py-2 bg-white border-2 border-purple-200 text-purple-600 rounded-lg hover:bg-purple-50 transition-colors font-medium">{{ num }}</a>
                {% endif %}
            {% endfor %}
        </div>

        {% if page_obj.has_next %}
        <a href="?page={{ page_obj.next_page_number }}" class="px-4 py-2 bg-white border-2 border-purple-200 text-purple-600 rounded-lg hover:bg-purple-50 transition-colors font-medium">
            Next
        </a>
        {% endif %}
    </div>
    {% endif %}

    {% else %}
    <div class="text-center py-16">
        <div class="w-24 h-24 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-6">
            <svg class="w-12 h-12 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
            </svg>
        </div>
        <h3 class="text-2xl font-bold text-gray-900 mb-2">No posts yet</h3>
        <p class="text-gray-600 mb-6">Check back soon for amazing content!</p>
    </div>
    {% endif %}
</div>

<style>
    @keyframes blob {
        0%, 100% { transform: translate(0, 0) scale(1); }
        33% { transform: translate(30px, -50px) scale(1.1); }
        66% { transform: translate(-20px, 20px) scale(0.9); }
    }
    .animate-blob {
        animation: blob 7s infinite;
    }
    .animation-delay-2000 {
        animation-delay: 2s;
    }
    .animation-delay-4000 {
        animation-delay: 4s;
    }
    .line-clamp-2 {
        overflow: hidden;
        display: -webkit-box;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 2;
    }
    .line-clamp-3 {
        overflow: hidden;
        display: -webkit-box;
        -webkit-box-orient: vertical;
        -webkit-line-clamp: 3;
    }
</style>
{% endblock %}